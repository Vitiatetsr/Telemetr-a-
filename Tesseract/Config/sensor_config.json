{
  "schema_version": "1.2",
  "sensores": [
    {
      "modelo": "Badger ModMAG® M2000",
      "puerto_serie": "COM3",
      "baudrate": 9600,
      "slave_id": 1,
      "parity": "E",
      "stopbits": 1,
      "bytesize": 8,
      "timeout": 2,
      "endianness": "big",
      "word_order": "big",  
      "funcion_default": 4,
      "registros": {
        "flujo_instantaneo": {
          "address": 241,  
          "count": 2,
          "data_type": "float32",
          "escala": 1.0,  
          "unidad": "m³/s",
          "funcion": 4,
          "widget_ui": {
            "tipo": "GAUGE_LARGE",
            "posicion": [0, 0],
            "rango": [0, 10],
            "decimales": 3,
            "color_alerta": "#FF0000"
          }
        },
        "flujo_acumulado": {
          "address": 211, 
          "count": 2,
          "data_type": "float32",
          "escala": 1.0,
          "unidad": "m³",
          "funcion": 4,
          "widget_ui": {
            "tipo": "GAUGE_LARGE",
            "posicion": [0, 1],
            "rango": [0, 10000],
            "decimales": 1,
            "color_normal": "#00FF00"
          }
        },
        "direccion_flujo": {
          "address": 301,
          "count": 1,
          "data_type": "int16",
          "funcion": 4,
          "widget_ui": {
            "tipo": "LED_INDICATOR",
            "posicion": [1, 0],
            "on_value": 1,
            "off_value": 0,
            "etiqueta": "Flujo positivo"
          }
        },
        "contador_energizacion": {
          "address": 245,
          "count": 1,
          "data_type": "int16",
          "funcion": 4,
          "descripcion": "Contador de encendidos"
        },
        "errores_sensor": {
          "address": 262,
          "count": 1,
          "data_type": "bitmask",
          "bit_map": {
            "0": "sensor_fault",
            "1": "over_range",
            "2": "empty_pipe"
          },
          "funcion": 4
        },
        "codigo_error": {
          "address": 257,
          "count": 1,
          "data_type": "int16",
          "funcion": 4,
          "descripcion": "Código de error del sistema"
        }
      },
      "output_mapping": {
        "flujo_instantaneo": "Q",
        "flujo_acumulado": "Vol",
        "flags": "direccion_flujo"
      }
    }
  ],
  "perfiles_predefinidos": [
    {
      "nombre": "Badger M2000 - Básico",
      "modelo": "Badger ModMAG® M2000",
      "registros_habilitados": ["flujo_instantaneo", "flujo_acumulado"],
      "widget_layout": "BASIC"
    },
    {
      "nombre": "Badger M2000 - Básico sin Opcionales",
      "modelo": "Badger ModMAG® M2000",
      "registros_habilitados": ["flujo_instantaneo", "flujo_acumulado", "direccion_flujo"],
      "widget_layout": "BASIC"  
    },
    {
      "nombre": "Badger M2000 - Completo",
      "modelo": "Badger ModMAG® M2000",
      "registros_habilitados": [
        "flujo_instantaneo",
        "flujo_acumulado",
        "direccion_flujo",
        "contador_energizacion",
        "errores_sensor",
        "codigo_error"
      ],
      "widget_layout": "FULL"
    }
  ],
  "config_defaults": {
    "baudrate": 9600,
    "parity": "N",
    "stopbits": 1,
    "bytesize": 8,
    "timeout": 2,
    "endianness": "big",
    "word_order": "big",  
    "funcion_default": 4
  }
}